<html>
<head>
<script type="text/javascript">

function doGet() {
var xhr = new XMLHttpRequest();

xhr.onreadystatechange=function() //This part is actually executed last
{
    if (xhr.readyState==4 && xhr.status==200) // Was the request processed successfully?
    {
        document.getElementById("data").innerHTML = "Received:" + xhr.responseText;

        var res = eval('(' + xhr.response + ')');
        var rhtml = "<ul>";
        for(var i = 0; i < res.items.length; i++) {
           rhtml += "<li>" + res.items[i].name + "</li>";
        }
        rhtml += "</ul>";
        // document.getElementById("data2").innerHTML = "Received:" + res.items[0].name;
        document.getElementById("data2").innerHTML = "Received:" + rhtml;
    }
}

xhr.open("GET", "http://localhost:5000/states", false);
xhr.send();

console.log(xhr.status);
console.log(xhr.statusText);
}
</script>
</head>
<body>
<div id="getter">
<button type="button1" onclick="doGet();"> GET </button>
</div>
<div id="data">
</div>
<div id="data2">
</div>
</body>
</html>